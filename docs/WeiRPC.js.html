<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: WeiRPC.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: WeiRPC.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/** The list of RPC methods that can be used */
const WeiRPCMethods = [
    "web3_clientVersion",
    "web3_sha3",
    "net_version",
    "net_peerCount",
    "net_listening",
    "eth_protocolVersion",
    "eth_syncing",
    "eth_coinbase",
    "eth_mining",
    "eth_hashrate",
    "eth_gasPrice",
    "eth_accounts",
    "eth_blockNumber",
    "eth_getBalance",
    "eth_getStorageAt",
    "eth_getTransactionCount",
    "eth_getBlockTransactionCountByHash",
    "eth_getBlockTransactionCountByNumber",
    "eth_getUncleCountByBlockHash",
    "eth_getUncleCountByBlockNumber",
    "eth_getCode",
    "eth_sign",
    "eth_sendTransaction",
    "eth_sendRawTransaction",
    "eth_call",
    "eth_estimateGas",
    "eth_getBlockByHash",
    "eth_getBlockByNumber",
    "eth_getTransactionByHash",
    "eth_getTransactionByBlockHashAndIndex",
    "eth_getTransactionByBlockNumberAndIndex",
    "eth_getTransactionReceipt",
    "eth_getUncleByBlockHashAndIndex",
    "eth_getUncleByBlockNumberAndIndex",
    "eth_newFilter",
    "eth_newBlockFilter",
    "eth_newPendingTransactionFilter",
    "eth_uninstallFilter",
    "eth_getFilterChanges",
    "eth_getFilterLogs",
    "eth_getLogs",
    "eth_getWork",
    "eth_submitWork",
    "eth_submitHashrate",
    "shh_post",
    "shh_version",
    "shh_newIdentity",
    "shh_hasIdentity",
    "shh_newGroup",
    "shh_addToGroup",
    "shh_newFilter",
    "shh_uninstallFilter",
    "shh_getFilterChanges",
    "shh_getMessages"
];

class WeiRPC {
    /**
     * Create an RPC helper class.
     *
     * @param {Wei} - The global wei class to be used for requests.
     */
    constructor(wei) {
        this.wei = wei;
        this._loadRPCGetters();
    }

    /**
     * Request the modules loaded in the RPC.
     *
     * @returns {Object} A key value pair, where keys are the modules and values are their version.
     */
    async modules() {
        return await this.wei.provider.rpc('rpc_modules', []);
    }

    /**
     * Initiate RPC shims.
     *
     * @private
     */
    _loadRPCGetters() {
        // Create a series of getters 
        for ( const name of WeiRPCMethods ) {       
            const parts = name.split('_');

            if ( this[parts[0]] == undefined ) {
                this[parts[0]] = {};
            }

            this[parts[0]][parts[1]] = async (... args) => this.wei.provider.rpc(name, args);
        }
    }
}

module.exports = WeiRPC;</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="Wei.html">Wei</a></li><li><a href="WeiAccount.html">WeiAccount</a></li><li><a href="WeiAccountManager.html">WeiAccountManager</a></li><li><a href="WeiContract.html">WeiContract</a></li><li><a href="WeiContractEvent.html">WeiContractEvent</a></li><li><a href="WeiContractEventListener.html">WeiContractEventListener</a></li><li><a href="WeiContractFunction.html">WeiContractFunction</a></li><li><a href="WeiHttpProvider.html">WeiHttpProvider</a></li><li><a href="WeiKeyAccount.html">WeiKeyAccount</a></li><li><a href="WeiProvider.html">WeiProvider</a></li><li><a href="WeiRLP.html">WeiRLP</a></li><li><a href="WeiRPC.html">WeiRPC</a></li><li><a href="WeiRPCAccount.html">WeiRPCAccount</a></li><li><a href="WeiTransaction.html">WeiTransaction</a></li><li><a href="WeiUtil.html">WeiUtil</a></li><li><a href="WeiWeb3Provider.html">WeiWeb3Provider</a></li></ul><h3>Global</h3><ul><li><a href="global.html#validateTxObj">validateTxObj</a></li><li><a href="global.html#WeiRPCMethods">WeiRPCMethods</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.5.5</a> on Thu Jul 05 2018 15:17:38 GMT-0400 (Eastern Daylight Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
